#print_length 1000000
#print_depth 1000000

open Vabstraction
open VhdlTree
open VhdlMain
open Rewrite

let srclst = [
"AXI_ADDRESS_CONTROL_CHANNEL.vhd";
"AXI_master_transaction.vhd";
"AXI_READ_DATA_CHANNEL.vhd";
"AXI_WRITE_DATA_CHANNEL.vhd";
"AXI_WRITE_RESPONSE_CHANNEL.vhd";
"fifo_manager.vhd"
];;

let srclst = [
"AXI_master_transaction.vhd";
];;

let succ = ref true;;
let _ = main succ srclst;;
let lst = ref [];;
let errlst = ref [];;

let _ = Hashtbl.iter (fun (k,_) _ -> lst := abstraction(abstraction k) :: !lst) vhdlhash;;

let args = dump "logfile.v" !lst;;
let args = {args with chan=stdout};;
