#print_length 1000000
#print_depth 1000000

open Vabstraction
open VhdlTree
open VhdlMain
open Rewrite

let srclst = [
"../../ethernet_mac/miim_types.vhd";
"../../ethernet_mac/crc.vhd";
"../../ethernet_mac/ethernet_mac_tb.vhd";
"../../ethernet_mac/xilinx/fixed_input_delay_artix7.vhd";
"../../ethernet_mac/xilinx/output_buffer_artix7.vhd";
"../../ethernet_mac/xilinx/input_buffer_artix7.vhd";
"../../ethernet_mac/xilinx/ipcore_dir/synth/ethernet_mac_tx_fifo_xilinx.vhd";
"../../ethernet_mac/xilinx/ipcore_dir/hdl/fifo_generator_v13_1_vhsyn_rfs.vhd";
"../../ethernet_mac/xilinx/ipcore_dir/hdl/blk_mem_gen_v8_3_vhsyn_rfs.vhd";
"../../ethernet_mac/xilinx/tx_fifo.vhd";
"../../ethernet_mac/xilinx/single_signal_synchronizer_artix7.vhd";
"../../ethernet_mac/xilinx/test/test_configuration_spartan6.vhd";
"../../ethernet_mac/xilinx/test/test_instance_spartan6.vhd";
"../../ethernet_mac/xilinx/test/test_wrapper_artix7.vhd";
"../../ethernet_mac/xilinx/test/test_configuration_artix7.vhd";
"../../ethernet_mac/xilinx/test/test_wrapper_spartan6.vhd";
"../../ethernet_mac/xilinx/test/test_instance_artix7.vhd";
"../../ethernet_mac/xilinx/mii_gmii_io_artix7.vhd";
"../../ethernet_mac/ethernet.vhd";
"../../ethernet_mac/framing.vhd";
"../../ethernet_mac/utility.vhd";
"../../ethernet_mac/crc32_tb.vhd";
"../../ethernet_mac/miim.vhd";
"../../ethernet_mac/miim_registers.vhd";
"../../ethernet_mac/tx_fifo_adapter.vhd";
"../../ethernet_mac/crc32.vhd";
"../../ethernet_mac/single_signal_synchronizer.vhd";
"../../ethernet_mac/mii_gmii_io.vhd";
"../../ethernet_mac/rx_fifo.vhd";
"../../ethernet_mac/test/test_instance.vhd";
"../../ethernet_mac/test/test_common.vhd";
"../../ethernet_mac/framing_common.vhd";
"../../ethernet_mac/generic/single_signal_synchronizer_simple.vhd";
"../../ethernet_mac/ethernet_types.vhd";
"../../ethernet_mac/reset_generator.vhd";
"../../ethernet_mac/ethernet_with_fifos.vhd";
"../../ethernet_mac/vivado/ethernet_mac.ip_user_files/ipstatic/fifo_generator_v13_0_1/simulation/fifo_generator_vhdl_beh.vhd";
"../../ethernet_mac/vivado/ethernet_mac.ip_user_files/ipstatic/fifo_generator_v13_0_1/hdl/fifo_generator_v13_0_rfs.vhd";
"../../ethernet_mac/miim_control.vhd";
"../../ethernet_mac/mii_gmii.vhd"
];;

let srclst = [ "../../hdlConvertor/tests/mux.vhd" ];;
let srclst = [ "framing_golden.vhd" ];;

let succ = ref true;;
let _ = main succ srclst;;
let lst = ref [];;
let errlst = ref [];;

let _ = Hashtbl.iter (fun (k,_) _ -> lst := abstraction(abstraction k) :: !lst) vhdlhash;;

let args = dump "logfile.v" !lst;;
